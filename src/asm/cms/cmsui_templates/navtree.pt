<tal:block define="items view/tree">
<ul>
<metal:block define-macro="inner">
    <li tal:repeat="item items">
        <a tal:attributes="
            href python:view.url(item['page']);
            class python:view.css_classes(
                ('selected' if view.context is item['page'] else ''),
                ('no-title' if not item['page'].title else ''))"
                tal:content="python:item['page'].title or item['page'].page.__name__"></a>

        <tal:block define="items item/subpages">
            <ul tal:condition="items">
                <metal:block use-macro="template/macros/inner">
                </metal:block>
            </ul>
        </tal:block>
    </li>
</metal:block>
</ul>

</tal:block>
