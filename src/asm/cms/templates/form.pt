<div class="section">
    <h2 tal:content="view/label|default">Edit page</h2>
</div>

<ul class="message" tal:condition="view/errors">
    <li tal:repeat="error view/error_views">
    <span tal:replace="structure error">error type</span>
    </li>
</ul>

<form action="." tal:attributes="action request/URL" method="post"
    class="edit-form" enctype="multipart/form-data">

    <div id="page-edit" class="column">

        <tal:block tal:repeat="widget view/header_widgets">
        <div metal:use-macro="template/macros/fields"></div>
        </tal:block>

        <div class="additional-widgets">
            <tal:block tal:repeat="widget view/additional_widgets">
            <div metal:use-macro="template/macros/fields"></div>
            </tal:block>
        </div>

        <tal:block tal:repeat="widget view/main_widgets">
        <div metal:use-macro="template/macros/fields"></div>
        </tal:block>

    </div>
</form>

<tal:block condition="nothing">
    <!-- Define the macro for showing individual fields -->
    <div class="field" metal:define-macro="fields">
        <label tal:attributes="for widget/name;
            class python:widget.required and 'required' or ''">
            <span i18n:translate="" tal:content="widget/label">label</span>
        </label>

        <p class="description" tal:content="widget/context/description"
        tal:condition="widget/context/description">
        </p>

        <div class="error" tal:condition="widget/error">
            <span tal:replace="structure widget/error">error</span>
        </div>

        <div class="widget" tal:content="structure widget">
            <input type="text" />
        </div>
    </div>
</tal:block>
