<tal:block define="items python:[view.application]">

<ul>
<metal:block define-macro="inner">
    <li tal:repeat="item items">
        <a tal:attributes="class python:item is context and 'selected' or ' ';
                           href python:view.url(item)"
           tal:content="item/__name__"></a>
        <tal:block define="items item/subpages">
            <ul tal:condition="items">
                <metal:block use-macro="template/macros/inner">
                </metal:block>
            </ul>
        </tal:block>
    </li>
</metal:block>
</ul>

</tal:block>
