<html>
    <head>
        <script language="JavaScript">
            function insertURL(a) {
                var win = tinyMCEPopup.getWindowArg('window');
                var input = tinyMCEPopup.getWindowArg('input');
                input = win.document.getElementById(input);
                input.value = a.href;
                tinyMCEPopup.close();
            }
        </script>
    </head>
    <body>
        <ul>
            <li>
                <a tal:attributes="
                    href string:${context/__parent__/@@absolute_url}/@@tinymce-linkbrowser">..</a>
            </li>
            <li tal:repeat="edition view/pages">
                <a tal:attributes="href
                    string:${edition/page/@@absolute_url}/@@tinymce-linkbrowser"
                    tal:omit-tag="python:not len(list(edition.page.subpages))"
                    tal:content="edition/title">no title</a>
                <a tal:attributes="href python:view.url(edition.page)"
                    onClick="insertURL(this)"><img
                    tal:attributes="src static/icons/link_add.png"/></a>
            </li>
        </ul>
    </body>
</html>
