[buildout]
extends = asm.cfg

extensions = mr.developer
sources = sources
sources-dir = develop
auto-checkout = *

parts += serve


[serve]
recipe = z3c.recipe.paster:serve
eggs = ${app:eggs}
       repoze.profile
       grokcore.startup
site.zcml = ${app:site.zcml}
ini =
  [app:grok]
  use = egg:grokcore.startup

  [server:main]
  use = egg:Paste#http
  host = 127.0.0.1
  port = 8080

  [filter:profile]
  use = egg:repoze.profile#profile

  [pipeline:main]
  pipeline = grok

  [DEFAULT]
  zope_conf = ${buildout:parts-directory}/serve/zope.conf

zope.conf =
  ${server:zope.conf}


[sources]
asm.cmsui = hg ssh://hg@bitbucket.org/ctheune/asm.cmsui
asm.translation = hg ssh://hg@bitbucket.org/ctheune/asm.translation
asm.workflow = hg ssh://hg@bitbucket.org/ctheune/asm.workflow
