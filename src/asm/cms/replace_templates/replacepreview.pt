<h1>Search and replace</h1>

<form tal:attributes="action string:${view/application_url}/@@replace"
    method="POST" class="search-and-replace">
    <input type="hidden" name="search" tal:attributes="value request/search"/>
    <input type="hidden" name="replace" tal:attributes="value request/replace"/>

    Search: <input type="text" disabled="disabled" tal:attributes="value request/search"/>
    Replace: <input type="text" disabled="disabled" tal:attributes="value request/replace"/>
    <input type="submit" name="form.actions.replace" value="Replace" />

    <tal:block repeat="result view/results">

    <h3><span tal:content="result/edition/title"/>
            <span class="discreet">(<tal:block tal:repeat="tag python:sorted(result['edition'].parameters)"
                ><span tal:replace="tag"/> </tal:block>)</span></h3>

    <ul>
        <li tal:repeat="occurence result/occurences">
            <input type="checkbox" tal:attributes="value occurence/id"
            name="occurences" checked="checked"/>
            <span tal:content="structure occurence/preview"/>
        </li>
    </ul>
    </tal:block>
</form>
