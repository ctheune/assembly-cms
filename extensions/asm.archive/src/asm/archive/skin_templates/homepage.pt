<div class="frontpage-search">
  <form tal:attributes="action string: ${view/application_url}/@@search"
        method="get" id="searchform"><input type="text" name="q" accesskey="f" tal:attributes="value python: view.request.form.get('q', '')" /></form>
</div>

<p tal:condition="view/description"
   tal:replace="structure view/description/content"></p>

<div tal:repeat="year view/years" class="mediacategory">
  <h2><a tal:attributes="href python:view.url(year)"><span tal:content="year/title" />  &raquo;</a> <span class="grayed smaller">(random selection)</span></h2>
  <div class="mediaitemlisting">
    <tal:block tal:repeat="item python:view.select_random_items(year, 5)">
      <div tal:attributes="class python:'video overview-thumbnail-%d' % repeat['item'].index()">

        <a tal:attributes="href python:view.url(item['edition']) + '#content'" class="thumbnail">
          <img tal:attributes="src python:view.url(item['edition'], '@@thumbnail');
alt item/edition/title"
               width="160" height="90" />
          <span tal:replace="python:view.cut_string(item['edition'].title, 37)"/>
          <span class="by" tal:content="python:view.cut_string(item['gallery'].author, 25)" />
        </a>
      </div>
    </tal:block>
  </div>
</div>
