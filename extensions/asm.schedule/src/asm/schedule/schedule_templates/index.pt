<span tal:replace="structure context/message|nothing" />

<p class="schedulefilter"><strong>Select day:</strong><br />
<tal:block repeat="option view/filter/day_options">
<a tal:attributes="href string:?day=${option/token}&details=${view/filter/details};
                   class option/class_"
     tal:content="option/label">Thursday</a>
<tal:block condition="not:repeat/option/end"> - </tal:block>
</tal:block>
</p>

<p class="schedulefilter"><strong>Select schedule details:</strong><br />
<tal:block repeat="option view/filter/detail_options">
  <a tal:attributes="href string:?details=${option/token}&day=${view/filter/day};
                     class option/class_"
     tal:content="option/label">major events only</a>
<tal:block condition="not:repeat/option/end"> - </tal:block>
</tal:block>
</p>

<tal:block repeat="record view/filter/events">
  <h2 tal:content="python:view.format_date(record['day'])"></h2>

  <table class="schedule">
      <tr tal:repeat="event record/events"
          tal:attributes="class python:view.event_class(event) + ' ' + (repeat['event'].odd() and 'odd' or 'even')">
          <td class="schedule-time">
            <span tal:content="python:event.start.strftime('%H:%M')">12:00</span>
            <tal:block condition="python:event.start != event.end">&ndash;
              <span tal:content="python:event.end.strftime('%H:%M')">12:00</span>
              <span tal:condition="python:event.start.day != event.end.day" tal:content="python:event.end.strftime('%a')"/>
            </tal:block>
          </td>
          <td><a tal:attributes="href event/url" tal:content="event/title">ASSEMBLY Summer 2009 alkaa!</a></td>
          <td><a tal:attributes="href event/location_url" tal:content="event/location">Kaikki alueet</a></td>
      </tr>
  </table>
</tal:block>
